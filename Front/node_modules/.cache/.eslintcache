[{"/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/index.js":"1","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/reportWebVitals.js":"2","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/App.js":"3","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Cart.js":"4","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Home.js":"5","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Login.js":"6"},{"size":644,"mtime":1668290876275,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1668290876275,"results":"9","hashOfConfig":"8"},{"size":485,"mtime":1668310467201,"results":"10","hashOfConfig":"8"},{"size":6686,"mtime":1668290876274,"results":"11","hashOfConfig":"8"},{"size":8761,"mtime":1668393724133,"results":"12","hashOfConfig":"8"},{"size":2464,"mtime":1668290876274,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"18"},"1xm7rim",{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"18"},"/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/index.js",["37","38","39","40"],[],"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter as Router, Route, Routes, Link} from \"react-router-dom\";\n\nimport './index.css';\n//import App from './App';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",[],"/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/reportWebVitals.js",[],[],"/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/App.js",["41","42"],[],"import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route, Routes, Link} from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"./Home\"\nimport Login from \"./Login\"\nimport Cart from \"./Cart\"\n\nfunction App(){\nreturn (\n    <Router>\n      <Routes>\n        <Route exact path = \"/\" element={<Home/>}/>\n        <Route path= \"/login\" element={<Login/>}/>\n        <Route path= \"/cart\" element={<Cart/>}/>\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Cart.js",["43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62"],[],"import React, { useState, List, Checkbox} from \"react\";\nimport \"./Cart.css\";\nimport \"./css/materialize.css\";\nimport logo from \"./images/home.svg\"\nimport cart from \"./images/cart.svg\"\nimport Cookies from \"universal-cookie\";\n\nconst Cookie = new Cookies();\n\nasync function getUserById(id){\n  return fetch(\"http://127.0.0.1:8080/user/\" + id, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => response.json())\n}\n\nasync function getProductById(id){\n  return fetch(\"http://127.0.0.1:8080/product/\" + id, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => response.json())\n}\n\nasync function postOrder(products) {\n  let details = []\n  products.forEach((item) => {\n    let detail = {\n      product_id: item.product_id,\n      quantity: Number(item.quantity),\n      price: Number(item.base_price),\n      name: item.name\n    }\n    details.push(detail)\n  });\n\n  return fetch(\"http://127.0.0.1:8080/order\", {\n    method:\"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      user_id: Number(Cookie.get(\"user_id\")),\n      details: details\n    })\n  })\n}\n\nfunction goto(path){\n  window.location = window.location.origin + path\n}\n\nfunction logout(){\n  Cookie.set(\"user_id\", -1, {path:\"/\"})\n  window.location.reload();\n}\n\nasync function getCartProducts(){\n  let items = []\n  let a = Cookie.get(\"cart\").split(\";\")\n\n  for (let i = 0; i < a.length; i++){\n    let item = a[i];\n    if(item != \"\"){\n      let array = item.split(\",\")\n      let id = array[0]\n      let quantity = array[1]\n      let product = await getProductById(id)\n      product.quantity = quantity;\n      items.push(product)\n    }\n  }\n  return items\n}\n\nfunction getOptions(n){\n  let options = []\n  for(let i=1; i <= n; i++){\n    options.push(i)\n  }\n  return options.map((option) =>\n    <option value={option}> {option} </option>\n)\n}\n\nfunction remove(n, p_id){\n  let cookie = Cookie.get(\"cart\");\n  let newCookie = \"\"\n  let toCompare = cookie.split(\";\")\n  let isEmpty = false\n  toCompare.forEach((item) => {\n    if(item != \"\"){\n      let array = item.split(\",\")\n      let item_id = array[0]\n      let item_quantity = array[1]\n      if(p_id == item_id){\n        item_quantity = Number(item_quantity) - n\n        if(item_quantity == 0){\n          isEmpty = true\n        }\n      }\n      if(p_id == item_id && !isEmpty){\n        newCookie += item_id + \",\" + item_quantity + \";\"\n      }\n      else if (p_id != item_id){\n        newCookie += item_id + \",\" + item_quantity + \";\"\n      }\n    }\n  });\n  cookie = newCookie\n  Cookie.set(\"cart\", cookie, {path: \"/\"})\n  goto(\"/cart\")\n  return\n}\n\nfunction showProducts(products){\n  return products.map((product) =>\n\n  \n\n  <div class=\"row product\">\n    <hr></hr>\n    <div obj={product} key={product.product_id} className=\"product\">\n      <div class=\"col s4\">\n        <img width=\"auto\" height=\"300px\" src={product.picture_url}  onError={(e) => (e.target.onerror = null, e.target.src = \"./images/default.jpg\")}/>\n      </div>\n      <div class=\"col s4\">\n      <h3 className=\"name\">{product.name}</h3>\n      <h4 className=\"price\">Precio: {\"$\" + product.base_price}</h4>\n      <div className=\"right\">\n        <a className=\"category\">{product.category.name}</a>\n      </div>\n      </div>\n    </div>\n    <div className=\"quantity\" class=\"col s2 right\">\n      <select id={\"removeSelect\" + product.product_id}>\n        {getOptions(product.quantity)}\n      </select>\n      <a class=\"waves-effect waves-light btn-large yellow black-text\" className=\"remove\" onClick={() => remove(document.getElementById(\"removeSelect\" + product.product_id).value, product.product_id)}>Eliminar   <i class=\"material-icons\">backspace</i></a>\n      <h5 className=\"amount\"> Cantidad: {product.quantity}</h5>\n      <h5 className=\"subtotal\"> Subtotal: ${product.quantity * product.base_price} </h5>\n    </div>\n</div>\n )\n\n}\n\nasync function setCart(setter, setterTotal){\n  let total = 0;\n  await getCartProducts().then(response => {\n    setter(response)\n    response.forEach((item) => {\n      total += item.base_price * item.quantity;\n    });\n    setterTotal(total)\n  })\n}\n\nasync function buy(products){\n  await postOrder(products).then(response => {\n    if(response.status == 409){\n      response.json().then(response => Cookie.set(\"orderError\", response, {path: \"/order\"}))\n      goto(\"/order/error\")\n    }\n    if(response.status == 201){\n      Cookie.set(\"order\", Cookie.get(\"cart\"), {path: \"/order\"})\n      Cookie.set(\"cart\", \"\", {path: \"/\"})\n      Cookie.set(\"cartItems\", \"\", {path: \"/\"})\n      goto(\"/order/complete\")\n    }\n  })\n}\n\nfunction Cart(){\n  const [user, setUser] = useState({});\n  const [isLogged, setIsLogged] = useState(false);\n  const [cartProducts, setCartProducts] = useState([]);\n  const [total, setTotal] = useState(0);\n\n\n  if (cartProducts.length <= 0 && Cookie.get(\"user_id\") > -1){\n    setCart(setCartProducts, setTotal)\n  }\n\n  const login = (\n\n    <span>\n    <a id=\"logout\" onClick={logout}> <span>{user.first_name} </span> </a>\n    </span>\n  )\n\n  if (Cookie.get(\"user_id\") > -1 && !isLogged) {\n    getUserById(Cookie.get(\"user_id\")).then(response => setUser(response))\n    setIsLogged(true)\n  }\n\n  const renderEmptyCart = (\n    <a class=\"yellow blue-text btn-large empty-cart\" href=\"/\">NECESITA INICIAR SESION PARA PODER VER SUS PRODUCTOS DEL CARRITO</a>\n  )\n\n  const renderOrderButton = (\n    <footer class=\"page-footer yellow accent-2\">\n      <div class=\"row\">\n        <div class=\"col s2 right\">\n          <ul>\n            <li><a class=\"btn-large waves-effect waves-light btn yellow black-text\" onClick={() => buy(cartProducts)}>FINALIZAR COMPRA</a></li>\n          </ul>\n        </div>\n        <div class=\"col s4 left\">\n          <ul>\n            <li><h3 class=\"black-text\"> Total: ${total} </h3></li>\n          </ul>\n        </div>\n      </div>\n  </footer>\n  )\n\n  return (\n    <div className=\"cart\">\n      <nav class=\" yellow accent-2 \">\n        <div class=\"nav-wrapper\">\n          <a href=\"/\" class=\"brand-logo center blue-text text-darken-2\"><img src={logo} width=\"50px\" height=\"70px\"/> </a>\n          <ul id=\"nav-mobile\" class=\"right hide-on-med-and-down\">\n          <li><a class=\"black-text\" onClick={logout}>Cerrar Sesion</a></li>\n          </ul>\n        </div>\n      </nav>\n\n\n\n      <div id=\"main\">\n        {Cookie.get(\"cart\") ? (Cookie.get(\"user_id\") > -1 ? showProducts(cartProducts) : renderEmptyCart) : <a class=\"yellow blue-text btn-large\" href=\"/\"> CARRITO VACIO, PRESIONE PARA AGREGAR UN PRODUCTO</a>}\n        {Cookie.get(\"cart\") && Cookie.get(\"user_id\") > -1 ? renderOrderButton : <span/>}\n\n\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;\n","/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Home.js",["63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81"],[],"/Users/pedrofernandez/go/src/github.com/pedrofernandezmz/Arq-Software2/Front/src/Login.js",["82","83","84","85","86","87"],[],"import React, { useState } from \"react\";\nimport \"./Login.css\";\nimport \"./css/materialize.css\";\nimport logo from \"./images/home.svg\"\nimport Cookies from \"universal-cookie\";\n\nconst Cookie = new Cookies();\n\nasync function login(username, password) {\n  return await fetch('http://127.0.0.1:8080/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n\tbody: JSON.stringify({\"username\": username, \"password\":password})\n  })\n    .then(response => {\n      if (response.status == 400 || response.status == 401)\n      {\n        return {\"user_id\": -1}\n      }\n      return response.json()\n    })\n    .then(response => {\n      Cookie.set(\"user_id\", response.user_id, {path: '/'})\n      Cookie.set(\"username\", username, {path: '/login'})\n    })\n }\n\nfunction goto(path){\n  window.location = window.location.origin + path\n}\n\nfunction Login() {\n  const [errorMessages, setErrorMessages] = useState({});\n  const [isSubmitted, setIsSubmitted] = useState(false);\n\n  const error = \"Contraseña o Usuario invalido\";\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    var { uname, pass } = document.forms[0];\n\n    // Find user login info\n    const userData = login(uname.value, pass.value).then(data => {\n      if (Cookie.get(\"user_id\") > -1) {\n        goto(\"/\")\n      }\n      else if (Cookie.get(\"user_id\") == -1) {\n        setErrorMessages({name: \"default\", message: error})\n      }\n    })\n  };\n\n  const renderErrorMessage = (name) =>\n    name === errorMessages.name && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n  const renderForm = (\n    <div className=\"form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-container\">\n          <label>Usuario </label>\n          <input type=\"text\" name=\"uname\" placeholder=\"Usuario\" required />\n        </div>\n        <div className=\"input-container\">\n          <label>Contraseña</label>\n          <input type=\"password\" name=\"pass\" placeholder=\"Contraseña\" required />\n        </div>\n\n          {renderErrorMessage(\"default\")}\n        <div className=\"button-container\">\n          <input class=\"black-text\" type=\"submit\" />\n        </div>\n      </form>\n    </div>\n\n  );\n\n  return (\n\n    <div className=\"app\">\n      <img src={logo} width=\"150px\" height=\"150px\" />\n      <div className=\"login-form\">\n\n        {isSubmitted || Cookie.get(\"user_id\") > -1 ? Cookie.get(\"username\") : renderForm}\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n",{"ruleId":"88","severity":1,"message":"89","line":3,"column":27,"nodeType":"90","messageId":"91","endLine":3,"endColumn":33},{"ruleId":"88","severity":1,"message":"92","line":3,"column":35,"nodeType":"90","messageId":"91","endLine":3,"endColumn":40},{"ruleId":"88","severity":1,"message":"93","line":3,"column":42,"nodeType":"90","messageId":"91","endLine":3,"endColumn":48},{"ruleId":"88","severity":1,"message":"94","line":3,"column":50,"nodeType":"90","messageId":"91","endLine":3,"endColumn":54},{"ruleId":"88","severity":1,"message":"95","line":1,"column":17,"nodeType":"90","messageId":"91","endLine":1,"endColumn":25},{"ruleId":"88","severity":1,"message":"94","line":2,"column":50,"nodeType":"90","messageId":"91","endLine":2,"endColumn":54},{"ruleId":"88","severity":1,"message":"96","line":1,"column":27,"nodeType":"90","messageId":"91","endLine":1,"endColumn":31},{"ruleId":"88","severity":1,"message":"97","line":1,"column":33,"nodeType":"90","messageId":"91","endLine":1,"endColumn":41},{"ruleId":"88","severity":1,"message":"98","line":5,"column":8,"nodeType":"90","messageId":"91","endLine":5,"endColumn":12},{"ruleId":"99","severity":1,"message":"100","line":67,"column":13,"nodeType":"101","messageId":"102","endLine":67,"endColumn":15},{"ruleId":"99","severity":1,"message":"100","line":95,"column":13,"nodeType":"101","messageId":"102","endLine":95,"endColumn":15},{"ruleId":"99","severity":1,"message":"103","line":99,"column":15,"nodeType":"101","messageId":"102","endLine":99,"endColumn":17},{"ruleId":"99","severity":1,"message":"103","line":101,"column":26,"nodeType":"101","messageId":"102","endLine":101,"endColumn":28},{"ruleId":"99","severity":1,"message":"103","line":105,"column":15,"nodeType":"101","messageId":"102","endLine":105,"endColumn":17},{"ruleId":"99","severity":1,"message":"100","line":108,"column":21,"nodeType":"101","messageId":"102","endLine":108,"endColumn":23},{"ruleId":"104","severity":1,"message":"105","line":128,"column":9,"nodeType":"106","endLine":128,"endColumn":152},{"ruleId":"107","severity":1,"message":"108","line":128,"column":109,"nodeType":"109","messageId":"110","endLine":128,"endColumn":110},{"ruleId":"111","severity":1,"message":"112","line":134,"column":9,"nodeType":"106","endLine":134,"endColumn":33},{"ruleId":"111","severity":1,"message":"112","line":142,"column":7,"nodeType":"106","endLine":142,"endColumn":201},{"ruleId":"99","severity":1,"message":"103","line":164,"column":24,"nodeType":"101","messageId":"102","endLine":164,"endColumn":26},{"ruleId":"99","severity":1,"message":"103","line":168,"column":24,"nodeType":"101","messageId":"102","endLine":168,"endColumn":26},{"ruleId":"88","severity":1,"message":"113","line":188,"column":9,"nodeType":"90","messageId":"91","endLine":188,"endColumn":14},{"ruleId":"111","severity":1,"message":"112","line":191,"column":5,"nodeType":"106","endLine":191,"endColumn":37},{"ruleId":"111","severity":1,"message":"112","line":209,"column":17,"nodeType":"106","endLine":209,"endColumn":119},{"ruleId":"104","severity":1,"message":"105","line":225,"column":73,"nodeType":"106","endLine":225,"endColumn":117},{"ruleId":"111","severity":1,"message":"112","line":227,"column":15,"nodeType":"106","endLine":227,"endColumn":54},{"ruleId":"88","severity":1,"message":"114","line":19,"column":16,"nodeType":"90","messageId":"91","endLine":19,"endColumn":29},{"ruleId":"88","severity":1,"message":"115","line":57,"column":10,"nodeType":"90","messageId":"91","endLine":57,"endColumn":15},{"ruleId":"88","severity":1,"message":"116","line":61,"column":10,"nodeType":"90","messageId":"91","endLine":61,"endColumn":19},{"ruleId":"99","severity":1,"message":"103","line":64,"column":13,"nodeType":"101","messageId":"102","endLine":64,"endColumn":15},{"ruleId":"99","severity":1,"message":"100","line":74,"column":13,"nodeType":"101","messageId":"102","endLine":74,"endColumn":15},{"ruleId":"99","severity":1,"message":"103","line":78,"column":13,"nodeType":"101","messageId":"102","endLine":78,"endColumn":15},{"ruleId":"104","severity":1,"message":"105","line":102,"column":9,"nodeType":"106","endLine":102,"endColumn":147},{"ruleId":"107","severity":1,"message":"108","line":102,"column":104,"nodeType":"109","messageId":"110","endLine":102,"endColumn":105},{"ruleId":"111","severity":1,"message":"112","line":105,"column":35,"nodeType":"106","endLine":105,"endColumn":55},{"ruleId":"88","severity":1,"message":"117","line":143,"column":10,"nodeType":"90","messageId":"91","endLine":143,"endColumn":24},{"ruleId":"88","severity":1,"message":"118","line":166,"column":10,"nodeType":"90","messageId":"91","endLine":166,"endColumn":14},{"ruleId":"111","severity":1,"message":"112","line":235,"column":11,"nodeType":"106","endLine":235,"endColumn":52},{"ruleId":"111","severity":1,"message":"112","line":237,"column":11,"nodeType":"106","endLine":237,"endColumn":55},{"ruleId":"111","severity":1,"message":"112","line":238,"column":11,"nodeType":"106","endLine":238,"endColumn":50},{"ruleId":"88","severity":1,"message":"119","line":242,"column":9,"nodeType":"90","messageId":"91","endLine":242,"endColumn":27},{"ruleId":"111","severity":1,"message":"112","line":243,"column":5,"nodeType":"106","endLine":243,"endColumn":8},{"ruleId":"104","severity":1,"message":"105","line":258,"column":73,"nodeType":"106","endLine":258,"endColumn":118},{"ruleId":"111","severity":1,"message":"112","line":260,"column":37,"nodeType":"106","endLine":260,"endColumn":79},{"ruleId":"111","severity":1,"message":"112","line":294,"column":87,"nodeType":"106","endLine":294,"endColumn":90},{"ruleId":"99","severity":1,"message":"103","line":18,"column":27,"nodeType":"101","messageId":"102","endLine":18,"endColumn":29},{"ruleId":"99","severity":1,"message":"103","line":18,"column":53,"nodeType":"101","messageId":"102","endLine":18,"endColumn":55},{"ruleId":"88","severity":1,"message":"120","line":36,"column":23,"nodeType":"90","messageId":"91","endLine":36,"endColumn":37},{"ruleId":"88","severity":1,"message":"121","line":46,"column":11,"nodeType":"90","messageId":"91","endLine":46,"endColumn":19},{"ruleId":"99","severity":1,"message":"103","line":50,"column":38,"nodeType":"101","messageId":"102","endLine":50,"endColumn":40},{"ruleId":"104","severity":1,"message":"105","line":84,"column":7,"nodeType":"106","endLine":84,"endColumn":54},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Routes' is defined but never used.","'Link' is defined but never used.","'useState' is defined but never used.","'List' is defined but never used.","'Checkbox' is defined but never used.","'cart' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","'login' is assigned a value but never used.","'getCategories' is defined but never used.","'retry' is defined but never used.","'addToCart' is defined but never used.","'deleteCategory' is defined but never used.","'user' is assigned a value but never used.","'renderFailedSearch' is assigned a value but never used.","'setIsSubmitted' is assigned a value but never used.","'userData' is assigned a value but never used."]